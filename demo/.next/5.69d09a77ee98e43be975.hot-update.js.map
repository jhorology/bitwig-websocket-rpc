{"version":3,"file":"5.69d09a77ee98e43be975.hot-update.js","sources":["webpack:///components/Header.js"],"sourcesContent":["import React from 'react';\nimport { withRouter } from 'next/router';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { Box, Heading, Select, Layer, Button } from 'grommet';\nimport { System, Menu, Connect } from 'grommet-icons';\nimport connect from '../redux';\nimport RoutedButton from './RoutedButton';\nimport RoutedAnchor from './RoutedAnchor';\nimport NextJsAnchor from './Anchor';\nimport { selectTheme } from '../redux/themes/actions';\n\nclass Header extends React.Component {\n  state = {\n    activeMenu: false,\n  };\n  constructor(props, context) {\n    super(props, context);\n    this.changeTheme(props.router.query.theme);\n  }\n\n  changeTheme(themeName) {\n    this.props.selectTheme(themeName);\n    this.theme = themeName;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.router.query.theme !== this.theme) {\n      this.changeTheme(nextProps.router.query.theme);\n    }\n  }\n  onResponsiveMenu = () => {\n    this.setState({ activeMenu: !this.state.activeMenu });\n  };\n\n  onCloseMenu = () => {\n    this.setState({ activeMenu: false });\n  };\n  onThemeChange = ({ option: theme }) => {\n    const { router } = this.props;\n    const path = { pathname: router.pathname, query: { ...router.query, theme } };\n    this.changeTheme(theme);\n    router.replace(path, path, { shallow: true });\n  };\n\n  render() {\n    const {\n      title: pageTitle, themes: { themes, selected: theme }, size,\n    } = this.props;\n    const isNarrow = size === 'narrow';\n    const isWide = size === 'wide';\n    // const keywords = ['grommet', 'grommet 2', 'react', 'next-js', 'next.js', 'ui library'];\n    // if (pageTitle) {\n    //   keywords.push(pageTitle);\n    // }\n    const menuItems = [\n      { path: '/get-started', label: 'get-started' }\n    ];\n    const items = menuItems.map(item => (\n      item.external ? (\n        <NextJsAnchor target='_blank' key={item.label} path={item.external} label={item.label} />\n      ) : (\n        <RoutedAnchor key={item.label} path={item.path} label={item.label} />\n      )\n    ));\n    const themeSelector = (\n      <Box basis='small' >\n        <Select\n          a11yTitle='Change theme'\n          value={theme}\n          options={Object.keys(themes)}\n          onChange={this.onThemeChange}\n        />\n      </Box>\n    );\n    const themeDesigner = (\n      <NextJsAnchor\n        icon={isNarrow ? undefined : <System />}\n        label={isNarrow ? 'theme designer' : undefined}\n        path='/theme'\n        a11yTitle='theme designer'\n      />);\n    \n    const connectBitwigStudio = (\n      <NextJsAnchor\n        icon={isNarrow ? undefined : <Connect />}\n        label={isNarrow ? 'connect Bittwig Studio' : undefined}\n        path='/connect'\n        a11yTitle='connect Bitwig Studio'\n      />);\n    \n    let menu;\n    if (isNarrow) {\n      if (this.state.activeMenu) {\n        menu = (\n          <Layer plain={true} onEsc={this.onCloseMenu} position='left' onClickOverlay={this.onCloseMenu}>\n            <Box background='brand' gap='small' style={{ height: '100vh' }} pad='medium' align='start'>\n              <Button icon={<Menu />} onClick={this.onResponsiveMenu} />\n              <RoutedAnchor path='/' label='home' a11yTitle='go to home page' />\n              {items}\n              {themeDesigner}\n              {themeSelector}\n            </Box>\n          </Layer>\n        );\n      }\n    } else if (isWide) {\n      menu = (\n        <Box direction='row' align='center' justify='end' gap='small' tag='nav'>\n          {items}\n          {themeSelector}\n          {themeDesigner}\n        </Box>\n      );\n    }\n    return (\n      <Box\n        tag='header'\n        direction='row-responsive'\n        justify='between'\n        align='center'\n        background='brand'\n        pad='small'\n        animation='fadeIn'>\n        <Box direction='row' align='center' gap='small'>\n          {isNarrow && (\n            <Button icon={<Menu />} onClick={this.onResponsiveMenu} />\n          )}\n          <Heading level={2} margin='none'>\n            <RoutedButton path='/'>\n              bitwig-websocket-rpc\n            </RoutedButton>\n          </Heading>\n        </Box>\n        {menu}\n      </Box>\n    );\n  }\n}\n\nHeader.defaultProps = {\n  size: undefined,\n};\n\nHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  size: PropTypes.string,\n};\n\nconst mapDispatchToProps = dispatch =>\n      bindActionCreators({ selectTheme }, dispatch);\n\nconst mapStateToProps = state => ({\n  themes: state.themes,\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n\n\n\n\n// WEBPACK FOOTER //\n// components/Header.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAIA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AAAA;AAAA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AA3BA;AACA;AACA;AACA;AAHA;AAGA;AACA;;;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAQA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AA7HA;AACA;AA+HA;AACA;AADA;AAIA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AACA;AAAA;AADA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AACA;AAGA;;;;A","sourceRoot":""}